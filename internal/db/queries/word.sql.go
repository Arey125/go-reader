// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: word.sql

package queries

import (
	"context"
)

const addOrIgnoreUserWord = `-- name: AddOrIgnoreUserWord :exec
insert or ignore into user_words(user_id, word_id, status) select ? as user_id, id as word_id, ? as status from words where word = ? and pos = ?
`

type AddOrIgnoreUserWordParams struct {
	UserID int64
	Status string
	Word   string
	Pos    string
}

func (q *Queries) AddOrIgnoreUserWord(ctx context.Context, arg AddOrIgnoreUserWordParams) error {
	_, err := q.db.ExecContext(ctx, addOrIgnoreUserWord,
		arg.UserID,
		arg.Status,
		arg.Word,
		arg.Pos,
	)
	return err
}

const addOrReplaceUserWord = `-- name: AddOrReplaceUserWord :exec
insert or replace into user_words(user_id, word_id, status) select ? as user_id, id as word_id, ? as status from words where word = ? and pos = ?
`

type AddOrReplaceUserWordParams struct {
	UserID int64
	Status string
	Word   string
	Pos    string
}

func (q *Queries) AddOrReplaceUserWord(ctx context.Context, arg AddOrReplaceUserWordParams) error {
	_, err := q.db.ExecContext(ctx, addOrReplaceUserWord,
		arg.UserID,
		arg.Status,
		arg.Word,
		arg.Pos,
	)
	return err
}

const addWord = `-- name: AddWord :exec
insert or ignore into words (word, pos) values (?, ?)
`

type AddWordParams struct {
	Word string
	Pos  string
}

func (q *Queries) AddWord(ctx context.Context, arg AddWordParams) error {
	_, err := q.db.ExecContext(ctx, addWord, arg.Word, arg.Pos)
	return err
}

const getUserWords = `-- name: GetUserWords :many
select words.id, words.word, words.pos, user_words.status from user_words join words on words.id = user_words.word_id where user_id = ?
`

type GetUserWordsRow struct {
	ID     int64
	Word   string
	Pos    string
	Status string
}

func (q *Queries) GetUserWords(ctx context.Context, userID int64) ([]GetUserWordsRow, error) {
	rows, err := q.db.QueryContext(ctx, getUserWords, userID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []GetUserWordsRow
	for rows.Next() {
		var i GetUserWordsRow
		if err := rows.Scan(
			&i.ID,
			&i.Word,
			&i.Pos,
			&i.Status,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getWordDefinition = `-- name: GetWordDefinition :one
select definitions from words where word = ? and pos = ?
`

type GetWordDefinitionParams struct {
	Word string
	Pos  string
}

func (q *Queries) GetWordDefinition(ctx context.Context, arg GetWordDefinitionParams) (*string, error) {
	row := q.db.QueryRowContext(ctx, getWordDefinition, arg.Word, arg.Pos)
	var definitions *string
	err := row.Scan(&definitions)
	return definitions, err
}

const updateWordDefinition = `-- name: UpdateWordDefinition :exec
update words set definitions = ? where word = ? and pos = ?
`

type UpdateWordDefinitionParams struct {
	Definitions *string
	Word        string
	Pos         string
}

func (q *Queries) UpdateWordDefinition(ctx context.Context, arg UpdateWordDefinitionParams) error {
	_, err := q.db.ExecContext(ctx, updateWordDefinition, arg.Definitions, arg.Word, arg.Pos)
	return err
}
